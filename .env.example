# Core
APP_PORT=8000
DOCKER_NETWORK="orchestrator"
ENGINE_VARIANT=krinkuto11-amd64  # Options: krinkuto11-amd64, jopsis-amd64, jopsis-arm32, jopsis-arm64
ENGINE_ARM32_VERSION=arm32-v3.2.13  # ARM32 image version for jopsis/acestream (e.g., arm32-v3.2.13, arm32-v3.2.14)
ENGINE_ARM64_VERSION=arm64-v3.2.13  # ARM64 image version for jopsis/acestream (e.g., arm64-v3.2.13, arm64-v3.2.14)
MIN_REPLICAS=3  # Minimum total replicas to start with on startup
MIN_FREE_REPLICAS=1  # Minimum free/empty replicas to maintain during runtime (avoids provisioning delays)
MAX_REPLICAS=20
CONTAINER_LABEL=orchestrator.managed=acestream
STARTUP_TIMEOUT_S=25
IDLE_TTL_S=600

# Stats collector
COLLECT_INTERVAL_S=5
STATS_HISTORY_MAX=720

# Reliability & Monitoring (NEW)
MONITOR_INTERVAL_S=10
ENGINE_GRACE_PERIOD_S=30
AUTOSCALE_INTERVAL_S=30

# Gluetun VPN Integration
# Uncomment and configure to enable VPN integration
# See docs/GLUETUN_INTEGRATION.md for comprehensive setup guide
# See docker-compose.gluetun.yml for single VPN mode example
# See docker-compose.gluetun-redundant.yml for redundant VPN mode example

# VPN Mode: single (one VPN) or redundant (two VPNs for high availability)
# VPN_MODE=single

# Single VPN Mode Configuration:
# GLUETUN_CONTAINER_NAME=gluetun
# GLUETUN_API_PORT=8001  # Internal port for Gluetun HTTP control server (must match HTTP_CONTROL_SERVER_ADDRESS in Gluetun)

# Redundant VPN Mode Configuration:
# VPN_MODE=redundant
# GLUETUN_CONTAINER_NAME=gluetun1
# GLUETUN_CONTAINER_NAME_2=gluetun2
# GLUETUN_API_PORT=8001
# GLUETUN_PORT_RANGE_1=19000-19499  # Port range for first VPN (must match docker-compose port mapping)
# GLUETUN_PORT_RANGE_2=19500-19999  # Port range for second VPN (must match docker-compose port mapping)

# VPN Health and Recovery Settings:
# GLUETUN_HEALTH_CHECK_INTERVAL_S=5         # How often to check VPN health (default: 5s)
# GLUETUN_PORT_CACHE_TTL_S=60               # How long to cache forwarded port info (default: 60s)
# VPN_RESTART_ENGINES_ON_RECONNECT=true     # Restart engines when VPN reconnects (default: true)
# VPN_UNHEALTHY_RESTART_TIMEOUT_S=60        # Force restart VPN container after being unhealthy (default: 60s)

# Performance Optimization (NEW)
MAX_CONCURRENT_PROVISIONS=5
MIN_PROVISION_INTERVAL_S=0.5

# Dynamic ports
PORT_RANGE_HOST=19000-19999
ACE_HTTP_RANGE=40000-44999
ACE_HTTPS_RANGE=45000-49999
ACE_MAP_HTTPS=false

# Security
API_KEY=holaholahola

# Persistence
DB_URL=sqlite:///./orchestrator.db

# Auto-delete container when stream ends
AUTO_DELETE=true

# Debug Mode (NEW) - Enables comprehensive logging for debugging performance issues
# Set to true to enable detailed debug logs written to DEBUG_LOG_DIR
# Logs include timing metrics, stress situation detection, and detailed operation tracking
DEBUG_MODE=false
DEBUG_LOG_DIR=./debug_logs
